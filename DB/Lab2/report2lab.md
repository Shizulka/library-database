
##  Перелік таблиць та обмежень схеми 

---

### AUTHOR – зберігає авторів 

| Поле | Тип | Опис |
| :--- | :--- | :--- |
| author_id | integer **PK** | Унікальний ID автора  |
| name | varchar(50) | Імʼя автора  |

---

###  BOOK – зберігає книги 

| Поле | Тип | Опис |
| :--- | :--- | :--- |
| book_id | integer **PK** | Унікальний ID книги  |
| title | varchar(255) | Назва  |
| author_id | integer **PK** | ID автора – **зовнішній ключ**, що посилається на `Author(author_id)` |
| genre_id | varchar(255) | ID жанру – **зовнішній ключ**, що посилається на `Genre(genre_id)`  |
| language | varchar(255) | Мова |
| year_published | integer | Рік видання |
| pages | integer | К-сть сторінок (**>0**) |

---

###  BOOK_COPY – зберігає окремі екземпляри книг 

| Поле | Тип | Опис |
| :--- | :--- | :--- |
| book_copy_id | integer (**PK**) | ID копії  |
| book_id | integer (**FK → book**) |ID книги – **зовнішній ключ**, що посилається на `Book(book_id)` |
| copy_number | varchar(255) | Кількість копій  |

---

###  GENRE – зберігає жанри книг 

| Поле | Тип | Опис |
| :--- | :--- | :--- |
| genre_id | integer (**PK**) | ID жанру  |
| name | varchar(100) **UNIQUE** | Назва жанру  |

---

### PATRON – зберігає користувачів 

| Поле | Тип | Опис |
| :--- | :--- | :--- |
| patron_id | integer (**PK**) | ID користувача |
| first_name | varchar(50) | Ім’я |
| last_name | varchar(50) | Прізвище |
| email | varchar(100) **UNIQUE** | Email |
| phone_number | varchar(50) | Телефон |

---

### CHECKOUT – реєстрація виданих книг

| Поле | Тип | Опис |
| :--- | :--- | :--- |
| checkout_id | integer (**PK**) | ID видачі |
| book_copy_id | integer (**FK → book_copy**) | ID копії – **зовнішній ключ**, що посилається на `Book_copy(book_copy_id)` |
| patron_id | integer (**FK → patron**) | ID користувача – **зовнішній ключ**, що посилається на `Patron(patron_id)` |
| start_time | timestamp (**DEFAULT now()**) | Дата початку видачі |
| end_time | timestamp | Дата повернення |
| is_borrowing | boolean | `true` = книга на руках |

---

### NOTIFICATION – зберігає сповіщення 

| Поле | Тип | Опис |
| :--- | :--- | :--- |
| notification_id | integer (**PK**) | ID сповіщення  |
| patron_id | integer (**FK → patron**) | ID користувача – **зовнішній ключ**, що посилається на `Patron(patron_id)` |
| contents | text | [cite_start]Текст повідомлення |

---

### WAITLIST – зберігає чергу очікування 
| Поле | Тип | Опис |
| :--- | :--- | :--- |
| waitlist_id | integer (**PK**) | ID запису |
| patron_id | integer (**FK → patron**) | ID користувача – **зовнішній ключ**, що посилається на `Patron(patron_id)` |
| book_id | integer (**FK → book**) | ID книги – **зовнішній ключ**, що посилається на `Book(book_id)` |

---

### DEBTORS – зберігає боржників 
| Поле | Тип | Опис |
| :--- | :--- | :--- |
| patron_id | integer (**FK → patron**) | ID користувача – **зовнішній ключ**, що посилається на `Patron(patron_id)` |
| book_id | integer (**FK → book**) | ID книги – **зовнішній ключ**, що посилається на `Book(book_id)` |
| due_date | timestamp | Дата, до якої треба повернути |

---

## Додані дані

###  AUTHOR

| author_id | name |
| :--- | :--- |
| 1 | Чак Поланік |
| 2 | Сіжань Джей Джао |
| 3 | Медлін Міллер |
| 4 | В. Домонтович |

---

###  BOOK 

| book_id | title | author_id | genre_id | language | year_published | pages |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| 2 | Залізна Вдова | 2 | 5,4,2 | Українська | 2024 | 446 |
| 3 | Цирцея | 3 | 2,4 | Українська | 2024 | 399 |
| 4 | Доктор Серафікус | 4 | 1, 29 | Українська | 2024 | 315 |
| 1 | Бійцівський Клуб | 1 | 26,25,8,2 | Українська | 1996 | 318 |

---

###  BOOK_COPY 

| book_copy_id | book_id | copy_number |
| :--- | :--- | :--- |
| 1 | 1 | 5 |
| 2 | 3 | 8 |
| 3 | 2 | 2  |

---

###  GENRE

| genre_id | name |
| :--- | :--- |
| 3 | Оповідання |
| 4 | Фентезі |
| 5 | Наукова фантастика  |
| 6 | Пригоди |
| 7 | Детектив |
| 8 | Трилер |
| 9 | Жахи |
| 10 | Драма |
| 11 | Мелодрама |
| 12 | Біографія |
| 13 | Історичний роман |
| 14 | Міфологія |
| 15 | Психологічний роман |
| 16 | Поезія |
| 17 | Сатира |
| 18 | Комедія |
| 19 | Документальна література |
| 20 | Філософія |
| 21 | Релігія |
| 22 | Есе |
| 23 | Дитяча література |
| 24 | Навчальна література |
| 25 | Художня література |
| 26 | Сучасна проза |
| 27 | Роман |
| 28 | Повість |
| 1 | Українське  |
| 2 | Зарубіжне  |
| 29 |Класична проза  |

---

###  PATRON 

| patron_id | first_name | last_name | email | phone_number |
| :--- | :--- | :--- | :--- | :--- |
| 1 | Анна | Куц | anna@gmail.com | 0662484478  |
| 2 | Андрій | Туров | andrii@gmail.com | 0662484479  |
| 3 | Сірко | Кропивницький | sirko@gmail.com | 0662484480  |
| 4 | Артем | Тен | artem.tem@gmail.com | 0693773843  |
| 5 | Нікіта | Бен | nikita.ben@gmail.com | 0583884467 |

---

###  CHECKOUT 

| checkout_id | book_copy_id | patron_id | start_time | end_time | is_borrowing |
| :--- | :--- | :--- | :--- | :--- | :--- |
| 2 | 2 | 4 | 2025-11-10 19:07:56.744589 | 2025-11-10 00:00:00 | t  |
| 3 | 1 | 2 | 2025-11-10 19:08:30.424319 | 2025-11-10 00:00:00 | t  |
| 4 | 3 | 5 | 2025-11-10 19:08:41.561400 | 2025-11-10 00:00:00 | t  |
| 6 | 1 | 5 | 2025-11-10 19:08:57.361130 | 2025-11-10 00:00:00 | t  |
