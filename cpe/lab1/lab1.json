{
  "definitions": {
    "patron": {
      "type": "object",
      "properties": {
        "patron_id": {"type": "integer"},

        "first_name": {"type": "string"},

        "last_name": {"type": "string"},

        "contact_data": {"type": "string"}
      },
      "required": ["patron_id", "first_name", "last_name", "contact_data"]
    },


    "checkout": {
      "type": "object",
      "properties": {
        "checkout_id": {"type": "integer"},

        "start_time": {"type": "string", "format": "date-time"},

        "end_time": {"type": "string", "format": "date-time"},

        "book_copy_id": {"type": "integer"},

        "patron_id": {"type": "integer"},

        "is_borrowing": {"type": "boolean"},

        "book_copy": {"$ref": "#/definitions/book_copy"},
        "patron": {"$ref": "#/definitions/patron"}
      },
      "required": ["checkout_id", "start_time", "end_time", "book_copy_id", "patron_id", "is_borrowing"]
    },


    "waitlist": {
      "type": "object",
      "properties": {
        "waitlist_id": {"type": "integer"},
        "patron_id": {"type": "integer"},
        "book_id": {"type": "integer"},
        "patron": {"$ref": "#/definitions/patron"},
        "book": {"$ref": "#/definitions/book"}
      },
      "required": ["waitlist_id", "patron_id", "book_id"]
    },


    "book": {
      "type": "object",
      "properties": {
        "book_id": {"type": "integer"},

        "title": {"type": "string"},

        "author_id": {"type": "integer"},

        "genre": {"type": "string"},

        "language": {"type": "string"},

        "year_published": {"type": "integer"},

        "pages": {"type": "integer"},

        "author": {"$ref": "#/definitions/author"}
      },
      "required": ["book_id", "title", "author_id", "genre", "language", "year_published", "pages"]
    },
    "author": {
      "type": "object",
      "properties": {
        "author_id": {"type": "integer"},

        "name": {"type": "string"}
      },

      "required": ["author_id", "name"]
    },

    "book_copy": {
      "type": "object",
      "properties": {
        "book_copy_id": {"type": "integer"},

        "book_id": {"type": "integer"},

        "copy_number": {"type": "string"},

        "book": {"$ref": "#/definitions/book"}
      },

      "required": ["book_copy_id", "book_id", "copy_number"]
    },

    "notification": {
      "type": "object",
      "properties": {
        "notification_id": {
          "type": "integer"
        },
        "patron_id": {"type": "integer"},

        "contents": {"type": "string"},

        "patron": {"$ref": "#/definitions/patron"}

      },

      "required": ["notification_id", "patron_id", "contents"]
    },


    "debtors": {
      "type": "object",
      "properties": {
        "patron_id": {"type": "integer"},

        "book_id": {"type": "integer"},

        "due_date": {"type": "string", "format": "date-time"},

        "patron": {"$ref": "#/definitions/patron"},

        "book": {"$ref": "#/definitions/book"}

      },

      "required": ["patron_id", "book_id", "due_date"]
    }
  }
}